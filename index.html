<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‚ú® Ultimate Anime Game Bot ‚ú®</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        :root {
            /* Default Dark Theme */
            --bg-primary: #1a1a2e;
            --bg-secondary: #16213e;
            --text-primary: #ffffff;
            --text-secondary: #e6e6e6;
            --accent-1: #ff6b9e;
            --accent-2: #6b47ff;
            --card-bg: rgba(30, 30, 46, 0.8);
            --shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            --border: 1px solid rgba(255, 255, 255, 0.1);
            --bg-image: url('https://i.imgur.com/X6QX0yT.png');
            --game-btn-text: white;
        }

        /* Bright Theme Variables */
        .bright-theme {
            --bg-primary: #f5f5fa;
            --bg-secondary: #e6e6f0;
            --text-primary: #33334d;
            --text-secondary: #4d4d66;
            --accent-1: #ff3366;
            --accent-2: #6633ff;
            --card-bg: rgba(255, 255, 255, 0.9);
            --shadow: 0 8px 32px rgba(102, 51, 255, 0.1);
            --border: 1px solid rgba(0, 0, 0, 0.1);
            --bg-image: url('https://i.imgur.com/Lw7JYrQ.png');
            --game-btn-text: white;
        }

        body {
            background-color: var(--bg-primary);
            color: var(--text-primary);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-image: var(--bg-image);
            background-size: cover;
            background-attachment: fixed;
            transition: all 0.3s ease;
            min-height: 100vh;
            margin: 0;
            padding: 0;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header Styles */
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 15px;
            border-bottom: var(--border);
        }

        .title {
            font-size: 2rem;
            background: linear-gradient(145deg, var(--accent-1), var(--accent-2));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        }

        /* Theme Switcher */
        .theme-switcher {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 30px;
        }

        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: var(--bg-secondary);
            transition: .4s;
            border-radius: 30px;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 22px;
            width: 22px;
            left: 4px;
            bottom: 4px;
            background: linear-gradient(145deg, var(--accent-1), var(--accent-2));
            transition: .4s;
            border-radius: 50%;
        }

        input:checked + .slider {
            background-color: var(--bg-secondary);
        }

        input:checked + .slider:before {
            transform: translateX(30px);
        }

        /* Game Tabs */
        .game-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .game-tab {
            padding: 10px 20px;
            background: var(--card-bg);
            border-radius: 10px;
            cursor: pointer;
            font-weight: bold;
            border: var(--border);
            transition: all 0.3s ease;
            box-shadow: var(--shadow);
        }

        .game-tab:hover, .game-tab.active {
            background: linear-gradient(145deg, var(--accent-1), var(--accent-2));
            color: var(--game-btn-text);
            transform: translateY(-2px);
        }

        /* Game Content */
        .game-content {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 20px;
            box-shadow: var(--shadow);
            border: var(--border);
            min-height: 400px;
        }

        .game-btn {
            background: linear-gradient(145deg, var(--accent-1), var(--accent-2));
            color: var(--game-btn-text);
            border: none;
            padding: 10px 20px;
            border-radius: 20px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: var(--shadow);
            margin-top: 15px;
        }

        .game-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        /* Customization Panel */
        .customization-panel {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 100;
        }

        .customize-btn {
            background: linear-gradient(145deg, var(--accent-1), var(--accent-2));
            color: white;
            border: none;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            font-size: 1.5rem;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .customize-btn:hover {
            transform: rotate(15deg) scale(1.1);
        }

        .customization-menu {
            position: absolute;
            bottom: 60px;
            right: 0;
            background: var(--card-bg);
            border-radius: 15px;
            padding: 15px;
            width: 250px;
            box-shadow: var(--shadow);
            border: var(--border);
            display: none;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .customization-menu.show {
            display: block;
        }

        .color-options {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 10px;
        }

        .color-option {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            cursor: pointer;
            border: 2px solid var(--bg-secondary);
            transition: transform 0.2s ease;
        }

        .color-option:hover {
            transform: scale(1.1);
        }

        /* Leaderboard Styles */
        .leaderboard-entry {
            display: flex;
            justify-content: space-between;
            padding: 10px;
            margin: 5px 0;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            transition: all 0.2s ease;
        }

        .leaderboard-entry:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: translateX(5px);
        }

        /* Chess Board */
        #chess-board {
            display: grid;
            grid-template-columns: repeat(8, 1fr);
            gap: 2px;
            width: fit-content;
            margin: 20px auto;
            background: var(--bg-secondary);
            padding: 10px;
            border-radius: 8px;
        }

        .chess-square {
            width: 35px;
            height: 35px;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: #f0d9b5;
        }

        .chess-square.dark {
            background-color: #b58863;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .game-tabs {
                justify-content: center;
            }
            
            .header {
                flex-direction: column;
                gap: 15px;
            }

            .container {
                padding: 15px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1 class="title">‚ú® Ultimate Anime Game Bot</h1>
            <div class="theme-switcher">
                <i class="fas fa-moon"></i>
                <label class="switch">
                    <input type="checkbox" id="theme-toggle">
                    <span class="slider"></span>
                </label>
                <i class="fas fa-sun"></i>
            </div>
        </div>

        <div class="game-tabs">
            <div class="game-tab active" onclick="showGame('chess')">‚ôüÔ∏è Chess</div>
            <div class="game-tab" onclick="showGame('ludo')">üé≤ Ludo</div>
            <div class="game-tab" onclick="showGame('leaderboard')">üèÜ Leaderboard</div>
            <div class="game-tab" onclick="showGame('settings')">‚öôÔ∏è Settings</div>
        </div>

        <div class="game-content" id="game-content">
            <!-- Chess Game -->
            <div id="chess-game" class="game-section">
                <h2>‚ôüÔ∏è Anime Chess</h2>
                <p>Play chess with anime-themed pieces against friends or AI!</p>
                <div id="chess-board"></div>
                <div class="game-controls">
                    <button class="game-btn" onclick="startChessGame()">
                        <i class="fas fa-play"></i> Start Game
                    </button>
                    <button class="game-btn" onclick="submitScore('chess', calculateChessScore())">
                        <i class="fas fa-trophy"></i> Submit Score
                    </button>
                </div>
            </div>

            <!-- Ludo Game -->
            <div id="ludo-game" class="game-section" style="display:none;">
                <h2>üé≤ Anime Ludo</h2>
                <p>Challenge your friends in this anime-style ludo game!</p>
                <div id="ludo-board"></div>
                <div class="game-controls">
                    <button class="game-btn" onclick="startLudoGame()">
                        <i class="fas fa-dice"></i> Roll Dice
                    </button>
                    <button class="game-btn" onclick="submitScore('ludo', calculateLudoScore())">
                        <i class="fas fa-trophy"></i> Submit Score
                    </button>
                </div>
            </div>

            <!-- Leaderboard -->
            <div id="leaderboard" class="game-section" style="display:none;">
                <h2>üèÜ Top Players</h2>
                <div class="leaderboard-filters">
                    <button class="filter-btn active" onclick="filterLeaderboard('all')">All Games</button>
                    <button class="filter-btn" onclick="filterLeaderboard('chess')">Chess</button>
                    <button class="filter-btn" onclick="filterLeaderboard('ludo')">Ludo</button>
                </div>
                <div id="leaderboard-entries"></div>
            </div>

            <!-- Settings -->
            <div id="settings" class="game-section" style="display:none;">
                <h2>‚öôÔ∏è Customize Your Experience</h2>
                
                <div class="setting-option">
                    <h3><i class="fas fa-palette"></i> Theme Colors</h3>
                    <div class="color-options">
                        <div class="color-option" style="background: #ff6b9e;" onclick="setThemeColors('#ff6b9e', '#6b47ff')" title="Pink-Purple"></div>
                        <div class="color-option" style="background: #ff3366;" onclick="setThemeColors('#ff3366', '#6633ff')" title="Red-Purple"></div>
                        <div class="color-option" style="background: #00b894;" onclick="setThemeColors('#00b894', '#0984e3')" title="Teal-Blue"></div>
                        <div class="color-option" style="background: #fdcb6e;" onclick="setThemeColors('#fdcb6e', '#e17055')" title="Yellow-Orange"></div>
                        <div class="color-option" style="background: #6c5ce7;" onclick="setThemeColors('#6c5ce7', '#a29bfe')" title="Purple-Lavender"></div>
                        <div class="color-option" style="background: #00cec9;" onclick="setThemeColors('#00cec9', '#fd79a8')" title="Turquoise-Pink"></div>
                    </div>
                </div>
                
                <div class="setting-option">
                    <h3><i class="fas fa-image"></i> Background</h3>
                    <select id="bg-select" class="bg-select" onchange="changeBackground(this.value)">
                        <option value="https://i.imgur.com/X6QX0yT.png">Dark Anime</option>
                        <option value="https://i.imgur.com/Lw7JYrQ.png">Bright Anime</option>
                        <option value="https://i.imgur.com/zYVp4aA.jpg">Cherry Blossom</option>
                        <option value="https://i.imgur.com/8nL5Q7z.jpg">Cyberpunk</option>
                        <option value="none">No Background</option>
                    </select>
                </div>
                
                <div class="setting-option">
                    <h3><i class="fas fa-user"></i> Profile</h3>
                    <div id="user-profile">
                        <img id="user-avatar" src="https://i.imgur.com/JRlq1Fs.png" width="50" height="50" style="border-radius: 50%;">
                        <span id="username-display">Guest</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Customization Floating Button -->
    <div class="customization-panel">
        <div class="customization-menu" id="customization-menu">
            <h3><i class="fas fa-magic"></i> Quick Customize</h3>
            <div class="color-options">
                <div class="color-option" style="background: #ff6b9e;" onclick="setThemeColors('#ff6b9e', '#6b47ff')"></div>
                <div class="color-option" style="background: #00b894;" onclick="setThemeColors('#00b894', '#0984e3')"></div>
                <div class="color-option" style="background: #6c5ce7;" onclick="setThemeColors('#6c5ce7', '#a29bfe')"></div>
            </div>
            <button class="game-btn" onclick="toggleTheme()">
                <i class="fas fa-adjust"></i> Toggle Theme
            </button>
        </div>
        <button class="customize-btn" onclick="toggleCustomizationMenu()">
            <i class="fas fa-palette"></i>
        </button>
    </div>

    <script>
        // Telegram WebApp initialization
        const tg = window.Telegram.WebApp;
        tg.expand();
        
        // Game state
        let currentGame = null;
        let leaderboard = JSON.parse(localStorage.getItem('leaderboard')) || [];
        let currentFilter = 'all';
        
        // User data
        const user = tg.initDataUnsafe?.user || {};
        const username = user.username || `Player${Math.floor(Math.random() * 1000)}`;
        const userPhoto = user.photo_url || 'https://i.imgur.com/JRlq1Fs.png';
        
        // Initialize games
        function initGames() {
            initChessBoard();
            initLudoBoard();
            loadPreferences();
            setupUserProfile();
        }
        
        // Chess game functions
        function initChessBoard() {
            const board = document.getElementById('chess-board');
            let html = '';
            for (let i = 0; i < 8; i++) {
                for (let j = 0; j < 8; j++) {
                    const isDark = (i + j) % 2 !== 0;
                    html += `<div class="chess-square ${isDark ? 'dark' : ''}" data-row="${i}" data-col="${j}"></div>`;
                }
            }
            board.innerHTML = html;
        }
        
        function startChessGame() {
            tg.showAlert("Chess game started! This is a placeholder - real game logic coming soon!");
            currentGame = 'chess';
        }
        
        function calculateChessScore() {
            return Math.floor(Math.random() * 100) + 50; // Placeholder
        }
        
        // Ludo game functions
        function initLudoBoard() {
            const board = document.getElementById('ludo-board');
            board.innerHTML = '<div class="ludo-placeholder">Ludo board will appear here</div>';
        }
        
        function startLudoGame() {
            tg.showAlert("Ludo game started! Roll the dice!");
            currentGame = 'ludo';
        }
        
        function calculateLudoScore() {
            return Math.floor(Math.random() * 100) + 30; // Placeholder
        }
        
        // Leaderboard functions
        function updateLeaderboard() {
            const entriesContainer = document.getElementById('leaderboard-entries');
            let filteredEntries = currentFilter === 'all' 
                ? leaderboard 
                : leaderboard.filter(entry => entry.game === currentFilter);
            
            let html = filteredEntries.length > 0 
                ? filteredEntries.map((entry, index) => `
                    <div class="leaderboard-entry">
                        <span>${index + 1}. ${entry.username}</span>
                        <span>${entry.score} pts (${entry.game})</span>
                    </div>
                `).join('')
                : '<p>No scores yet for this game. Be the first!</p>';
            
            entriesContainer.innerHTML = html;
        }
        
        function filterLeaderboard(gameType) {
            currentFilter = gameType;
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            updateLeaderboard();
        }
        
        // Score submission
        function submitScore(gameType, score) {
            if (!score) score = gameType === 'chess' ? calculateChessScore() : calculateLudoScore();
            
            leaderboard.push({
                username,
                score,
                game: gameType,
                date: new Date().toISOString(),
                avatar: userPhoto
            });
            
            // Keep only top 25 scores
            leaderboard.sort((a, b) => b.score - a.score);
            leaderboard = leaderboard.slice(0, 25);
            
            localStorage.setItem('leaderboard', JSON.stringify(leaderboard));
            tg.showAlert(`üéâ Score submitted: ${score} points in ${gameType}`);
            
            if (gameType === currentGame || currentFilter === gameType || currentFilter === 'all') {
                updateLeaderboard();
            }
        }
        
        // Theme management
        function toggleTheme() {
            document.body.classList.toggle('bright-theme');
            localStorage.setItem('theme', document.body.classList.contains('bright-theme') ? 'bright' : 'dark');
        }
        
        function setThemeColors(accent1, accent2) {
            document.documentElement.style.setProperty('--accent-1', accent1);
            document.documentElement.style.setProperty('--accent-2', accent2);
            localStorage.setItem('accent1', accent1);
            localStorage.setItem('accent2', accent2);
        }
        
        function changeBackground(bgUrl) {
            if (bgUrl === 'none') {
                document.documentElement.style.setProperty('--bg-image', 'none');
            } else {
                document.documentElement.style.setProperty('--bg-image', `url('${bgUrl}')`);
            }
            localStorage.setItem('background', bgUrl);
        }
        
        // User profile
        function setupUserProfile() {
            document.getElementById('user-avatar').src = userPhoto;
            document.getElementById('username-display').textContent = username;
        }
        
        // Game navigation
        function showGame(gameName) {
            document.querySelectorAll('.game-section').forEach(section => {
                section.style.display = 'none';
            });
            document.getElementById(`${gameName}-game`).style.display = 'block';
            
            // Update active tab
            document.querySelectorAll('.game-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            event.currentTarget.classList.add('active');
            
            if (gameName === 'leaderboard') {
                updateLeaderboard();
            }
            
            currentGame = gameName === 'chess' || gameName === 'ludo' ? gameName : null;
        }
        
        // Customization panel
        function toggleCustomizationMenu() {
            document.getElementById('customization-menu').classList.toggle('show');
        }
        
        // Load saved preferences
        function loadPreferences() {
            // Theme
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme === 'bright') {
                document.body.classList.add('bright-theme');
                document.getElementById('theme-toggle').checked = true;
            }
            
            // Colors
            const savedAccent1 = localStorage.getItem('accent1');
            const savedAccent2 = localStorage.getItem('accent2');
            if (savedAccent1 && savedAccent2) {
                setThemeColors(savedAccent1, savedAccent2);
            }
            
            // Background
            const savedBg = localStorage.getItem('background');
            if (savedBg) {
                changeBackground(savedBg);
                document.getElementById('bg-select').value = savedBg;
            }
        }
        
        // Initialize on load
        document.addEventListener('DOMContentLoaded', () => {
            initGames();
            
            // Set up theme toggle
            document.getElementById('theme-toggle').addEventListener('change', toggleTheme);
            
            // Close customization menu when clicking outside
            document.addEventListener('click', (e) => {
                if (!e.target.closest('.customization-panel')) {
                    document.getElementById('customization-menu').classList.remove('show');
                }
            });
        });
    </script>
</body>
                </html>
